<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Checkout</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
* { 
    box-sizing: border-box;
    font-family: 'Poppins', sans-serif; 
}
body { 
    margin: 0; 
    background: radial-gradient(circle at top right, #1a1a1a, #000 60%); 
    color: white; 
}


/* LOGO */
.logo {
    text-align: center;
    padding: 20px 0;
}
.logo{
    height: 60px;
    letter-spacing: 3px;
    text-decoration: none;
    color: inherit;
}

.checkout { 
    display: grid; 
    grid-template-columns: 1.2fr 1fr; 
    min-height: 100vh; 
    gap: 20px; 
    padding: 20px; 
    overflow-x: hidden;
}

.checkout-form { 
    padding: 40px 80px;
}

.checkout-form h2 { 
    margin-top: 30px; 
    margin-bottom: 20px; 
    font-family: 'Playfair Display', serif; 
    letter-spacing: 2px; color: #d4af37; 
}

.two-cols { 
    display: grid; 
    grid-template-columns: 1fr 1fr; 
    gap: 15px; 
}

.checkout-form input, .checkout-form select {
    width: 100%;
    padding: 14px;
    margin-bottom: 18px;
    border: 1px solid #333;
    background: #111;
    color: white;
    border-radius: 6px;
}

.checkout-summary hr {
    border: none;
    height: 1px;
    background: #222;
    margin: 20px 0;
}

.product {
    display: grid;
    grid-template-columns: 60px 1fr auto;
    gap: 15px; 
    align-items: center;
    margin-bottom: 25px;
    padding: 18px; 
    background: #111;
    border-radius: 12px; 
}

.product img { 
    width: 60px;
    border-radius: 8px; 
}

.price-row { 
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px; 
 }

.total { 
    display: flex;
    justify-content: space-between;
    font-size: 22px; margin-top: 10px; 
}

.place-order button {
    width: 100%;
    padding: 16px;
    font-size: 18px;
    background: linear-gradient(90deg, #d4af37, #f5d97a, #d4af37);
    color: black;
    border: none;
    cursor: pointer;
    border-radius: 8px;
}
</style>
</head>
<body>

<div class="logo">
    <!-- Replace logo.png with your actual logo file -->
    <a href="index.html" class="logo"> OUTFITITORY</a>
</div>

<form id="checkoutForm">
<div class="checkout">

<div class="checkout-form">

<h2>Contact</h2>
<input type="email" id="email" placeholder="Email" required>
<input type="tel" id="phone" placeholder="Phone Number" required>

<h2>Delivery</h2>

<div class="two-cols">
<input type="text" id="firstName" placeholder="First name" required>
<input type="text" id="lastName" placeholder="Last name" required>
</div>

<input type="text" id="address" placeholder="Address" required>

<div class="two-cols">
<input type="text" id="city" placeholder="City" required>
<input type="text" id="postalCode" placeholder="Postal code (optional)">
<select id="country">
<option>Pakistan</option>
</select>
</div>

</div>

<div class="checkout-summary">
<div id="checkoutProducts"></div>

<div class="price-row">
<span>Subtotal</span>
<span>Rs <span id="subtotal">0</span></span>
</div>

<div class="price-row">
<span>Shipping</span>
<span>Rs <span id="shipping">250</span></span>
</div>

<hr>

<div class="total">
<strong>Total</strong>
<strong>Rs <span id="total">0</span></strong>
</div>

<div class="place-order">
<button type="submit">Place Order</button>
</div>

</div>
</div>
</form>

<script>
document.addEventListener("DOMContentLoaded", function () {

const cart = JSON.parse(localStorage.getItem("cart")) || [];
const container = document.getElementById("checkoutProducts");
const subtotalEl = document.getElementById("subtotal");
const totalEl = document.getElementById("total");
const shippingEl = document.getElementById("shipping");

const shipping = 250;
shippingEl.textContent = shipping;

let subtotal = 0;

cart.forEach(item => {
    const quantity = Number(item.quantity) || 1;
    const price = Number(item.price);
    const productTotal = price * quantity;
    subtotal += productTotal;

    container.innerHTML += `
        <div class="product">
            <img src="${item.image}">
            <div>
                <p>${item.name}</p>
                <small>Qty: ${quantity}</small>
            </div>
            <span>Rs ${productTotal}</span>
        </div>
    `;
});

subtotalEl.textContent = subtotal;
totalEl.textContent = subtotal + shipping;

document.getElementById("checkoutForm").addEventListener("submit", function(e){
e.preventDefault();

const email = document.getElementById("email").value.trim();
const phone = document.getElementById("phone").value.trim();
const firstName = document.getElementById("firstName").value.trim();
const lastName = document.getElementById("lastName").value.trim();
const address = document.getElementById("address").value.trim();
const city = document.getElementById("city").value.trim();
const postalCode = document.getElementById("postalCode").value.trim();
const country = document.getElementById("country").value;

if(!email || !phone || !firstName || !lastName || !address || !city){
alert("Please fill all required fields");
return;
}

const orderNumber = "OT" + Math.floor(Math.random() * 1000000);

let message = `ðŸ›ï¸ *NEW ORDER*\n\n`;
message += `Order No: ${orderNumber}\n\n`;

message += `ðŸ‘¤ *Customer Details*\n`;
message += `Name: ${firstName} ${lastName}\n`;
message += `Phone: ${phone}\n`;
message += `Email: ${email}\n`;
message += `Address: ${address}\n`;
message += `City: ${city}\n`;
message += `Country: ${country}\n\n`;

message += `ðŸ›’ *Ordered Items Include*\n`;

cart.forEach(item=>{
const quantity = Number(item.quantity) || 1;
const price = Number(item.price);
message += `â€¢ ${item.name} (x${quantity}) - Rs ${price * quantity}\n`;
});

message += `\nSubtotal: Rs ${subtotal}`;
message += `\nShipping: Rs ${shipping}`;
message += `\nTotal: Rs ${subtotal + shipping}`;

const phoneNumber = "923425324001"; // CHANGE TO YOUR NUMBER

const url = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;

localStorage.removeItem("cart");

window.open(url, "_blank");

});

});
</script>

</body>
</html>
